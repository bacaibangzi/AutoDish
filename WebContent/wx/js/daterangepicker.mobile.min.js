+function(t){"use strict";function e(e,s){return this.each(function(){var n=t(this),i=n.data("amos.daterangepickermobile"),r=t.extend({},a.DEFAULTS,n.data(),"object"==typeof e&&e);r.locale=t.extend({},a.DEFAULTS.locale,"object"==typeof e.locale&&e.locale),i||n.data("amos.daterangepickermobile",i=new a(this,r)),"string"==typeof e&&i[e](s)})}Date.prototype.customFormat=function(t){void 0===t&&(t="yyyy-MM-dd");var e=this,a=function(t,e){e||(e=2),t=String(t);for(var a=0,s="";a<e-t.length;a++)s+="0";return s+t};return t.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|m{1,4}|yy(?:yy)?|([hHMstT])\1?|[lLZ])\b/g,function(t){switch(t){case"d":return e.getDate();case"dd":return a(e.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][e.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e.getDay()];case"M":return e.getMonth()+1;case"MM":return a(e.getMonth()+1);case"MMM":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()];case"MMMM":return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];case"yy":return String(e.getFullYear()).substr(2);case"yyyy":return e.getFullYear();case"h":return e.getHours()%12||12;case"hh":return a(e.getHours()%12||12);case"H":return e.getHours();case"HH":return a(e.getHours());case"m":return e.getMinutes();case"mm":return a(e.getMinutes());case"s":return e.getSeconds();case"ss":return a(e.getSeconds());case"l":return a(e.getMilliseconds(),3);case"L":var s=e.getMilliseconds();return s>99&&(s=Math.round(s/10)),a(s);case"tt":return e.getHours()<12?"am":"pm";case"TT":return e.getHours()<12?"AM":"PM";case"Z":return e.toUTCString().match(/[A-Z]+$/);default:return t.substr(1,t.length-2)}})},Date.prototype.getFirstDayInMonth=function(){var t=new Date(this.getTime());return t.setDate(1),t},Date.prototype.getLastDayInMonth=function(){var t=new Date(this.getTime()),e=t.getMonth();return t.setMonth(e+1),t.setDate(0),t},Date.prototype.getFirstDayInNextMonth=function(){var t=new Date(this.getTime()),e=t.getMonth();return t.setMonth(e+1),t.setDate(1),t},Date.prototype.getDays=function(t){var e=this.getTime(),a=t.getTime();return parseInt((e-a)/864e5)},Date.prototype.getMonths=function(t){var e=0,a=this.getFullYear(),s=t.getFullYear(),n=this.getMonth(),i=t.getMonth();return e=12*(s-a)+i-n+1},Date.prototype.customDays=function(t){var e=this.getTime();return new Date(e+864e5*t)};var a=function(e,a){this.options=a,this.parentDom=t(e),this.init()},s=new Date,n={};n[s.customFormat()]=lang('today'),a.VERSION="0.0.1",a.DEFAULTS={startDate:s.customFormat(),endDate:s.customDays(1).customFormat(),minDate:s.customFormat(),maxDate:s.customDays(365).customFormat(),dateLimit:0,showWeek:!0,singleDatePicker:!1,disabledDays:[],locale:{specialDays:n,startDateLabel:lang('start'),endDateLabel:lang('end'),monthAndYearText:"M Y"+lang('year')+"",daysOfWeek:[lang('SUN'),lang('MON'),lang('TUE'),lang('WED'),lang('THU'),lang('FRI'),lang('SAT')],monthNames:[lang('January'),lang('February'),lang('March'),lang('April'),lang('May'),lang('June'),lang('July'),lang('August'),lang('September'),lang('October'),lang('November'),lang('December')]}},a.EVENTS={parentEvents:".amos.drpm",click:"click.amos.drpm",startDate:"start.amos.drpm",endDate:"end.amos.drpm"},a.CLASS={container:"date-range-container",calendar:"date-range-calendar",title:"date-range-calendar-title",week:"date-range-calendar-week",day:"date-range-calendar-day",dayOption:"date-range-calendar-option",dayContent:"date-range-calender-day-content",dayEmpty:"date-range-calendar-empty",dayDisabled:"date-range-calendar-disabled",daySpecial:"date-range-special-day",startDate:"date-range-calendar-startdate",endDate:"date-range-calendar-enddate",selectInfo:"date-range-selected-info",selectTip:"date-range-selected-tip",hidden:"hidden"},a.prototype={constructor:a,init:function(){this.minDate=r(this.options.minDate),this.maxDate=r(this.options.maxDate),this.startDate=r(this.options.startDate),this.endDate=r(this.options.endDate),this.dateLimit=parseInt(this.options.dateLimit),this.isWeekShow=this.options.showWeek?!0:!1,this.isSingle=this.options.singleDatePicker?!0:!1,this.locale=this.options.locale,this.isStartDate=!0,this.specialDays=this.options.locale.specialDays,this.parentDom.html('<div class="'+a.CLASS.container+'"></div>'),this.container=this.parentDom.find("."+a.CLASS.container);for(var t=this.minDate.getDate(),e=1;t>e;e++)this.options.disabledDays.push(this.minDate.customDays(-e).customFormat());this.renderContainer()},renderContainer:function(){this.off(),this.disabledDays=[];for(var e in this.options.disabledDays)this.disabledDays.push(this.options.disabledDays[e]);for(var s=this.maxDate.getDate(),n=this.maxDate.getLastDayInMonth().getDate(),i=n;i>s;i--)this.disabledDays.push(this.maxDate.customDays(i-s).customFormat());this.container.html("");var r=this.minDate.getMonths(this.maxDate),o=this.minDate.getFirstDayInMonth();for(i=0;r>i;i++)this.renderCalendar(o),o=o.getFirstDayInNextMonth();this.container.on(a.EVENTS.click,"td."+a.CLASS.dayOption,t.proxy(this.clickDate,this))},renderCalendar:function(e){var s='<table class="'+a.CLASS.calendar+'">',n=e.getMonth(),i=e.getFullYear(),r=this.locale.monthNames[n],o=this.locale.monthAndYearText.replace("M",r).replace("Y",i);s+='<tr class="'+a.CLASS.title+'"><td colspan="7">'+o+"</td></tr>",this.isWeekShow&&(s+='<tr class="'+a.CLASS.week+'"><td>'+this.locale.daysOfWeek[0]+"</td><td>"+this.locale.daysOfWeek[1]+"</td><td>"+this.locale.daysOfWeek[2]+"</td><td>"+this.locale.daysOfWeek[3]+"</td><td>"+this.locale.daysOfWeek[4]+"</td><td>"+this.locale.daysOfWeek[5]+"</td><td>"+this.locale.daysOfWeek[6]+"</td></tr>");var d=e.getLastDayInMonth(),c=d.getDate(),l=e.getDay(),h=42-l-c;h>=7&&(h-=7);var D=0;s+='<tr class="'+a.CLASS.day+'">';for(var u=0;l>u;u++,D++)s+='<td class="'+a.CLASS.dayEmpty+'"></td>';var y="",m="";for("object"==typeof this.startDate&&this.startDate instanceof Date&&(y=""===this.startDate?"":this.startDate.customFormat()),"object"==typeof this.endDate&&this.endDate instanceof Date&&(m=""===this.endDate?"":this.endDate.customFormat()),u=1;c>=u;u++,D++){D%7===0&&(s+='</tr><tr class="'+a.CLASS.day+'">');var g=e.customDays(u-1).customFormat(),p=void 0===this.specialDays[g]?u:this.specialDays[g];s+=y===g?'<td class="'+a.CLASS.startDate+" "+a.CLASS.dayOption+'" data-value="'+g+'"><div class="'+a.CLASS.dayContent+'"><div class="'+a.CLASS.selectInfo+'">'+p+'</div><div class="'+a.CLASS.selectTip+'">'+this.locale.startDateLabel+"</div></div></td>":m===g?'<td class="'+a.CLASS.endDate+" "+a.CLASS.dayOption+'" data-value="'+g+'"><div class="'+a.CLASS.dayContent+'"><div class="'+a.CLASS.selectInfo+'">'+p+'</div><div class="'+a.CLASS.selectTip+'">'+this.locale.endDateLabel+"</div></div></td>":-1!==t.inArray(g,this.disabledDays)?'<td class="'+a.CLASS.dayDisabled+'"><div class="'+a.CLASS.dayContent+'">'+p+"</div></td>":'<td class="'+a.CLASS.dayOption+'" data-value="'+g+'"><div class="'+a.CLASS.dayContent+'">'+p+"</div></td>"}for(u=0;h>u;u++,D++)D%7===0&&(s+='</tr><tr class="'+a.CLASS.day+'">'),s+='<td class="'+a.CLASS.dayEmpty+'"></td>';s+="</tr></table>",this.container.append(s)},startDateSelected:function(t){if(this.startDate=t,this.endDate="",this.dateLimit>0){var e=r(this.options.maxDate).getDays(this.startDate);this.dateLimit<e&&(this.maxDate=this.startDate.customDays(this.dateLimit))}this.isStartDate=!1},clickDate:function(e){e.preventDefault();var s=e.currentTarget,n=t(s),i=n.data("value"),o=r(i);if(this.isStartDate)this.startDateSelected(o);else{var d=this.startDate.getTime(),c=o.getTime();d>c?this.startDateSelected(o):(d===c?(this.startDate="",this.endDate="",this.minDate=r(this.options.minDate),this.maxDate=r(this.options.maxDate)):this.endDate=o,this.isStartDate=!0)}this.renderContainer();var l="object"==typeof this.startDate&&this.startDate instanceof Date,h="object"==typeof this.endDate&&this.endDate instanceof Date;if(l&&h){var D=t.Event(a.EVENTS.endDate,{relatedTarget:s,startDate:this.startDate.customFormat(),endDate:this.endDate.customFormat()});this.parentDom.trigger(D)}else if(l){var D=t.Event(a.EVENTS.startDate,{relatedTarget:s,startDate:this.startDate.customFormat()});this.parentDom.trigger(D)}},off:function(){this.container.off(a.EVENTS.parentEvents)}};var i=t.fn.dateRangePickerMobile;t.fn.dateRangePickerMobile=e,t.fn.dateRangePickerMobile.Constructor=a,t.fn.dateRangePickerMobile.noConflict=function(){return t.fn.dateRangePickerMobile=i,this};var r=function(t){if(""===t)return new Date;var e=t.split("-");return new Date(e[1]+"/"+e[2]+"/"+e[0])}}(jQuery);